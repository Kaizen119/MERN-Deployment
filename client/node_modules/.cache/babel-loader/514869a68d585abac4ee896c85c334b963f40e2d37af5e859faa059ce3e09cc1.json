{"ast":null,"code":"import _slicedToArray from\"C:/Users/Kaizen/Desktop/coding_dojo_mern/Pirate_Crew/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import axios from'axios';import{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import imgStyle from\"./Main.module.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Main=function Main(props){var navigate=useNavigate();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),pirates=_useState2[0],setPirates=_useState2[1];//trigger when the component has finished loading\nuseEffect(function(){//get all the notes from the server\naxios.get(\"http://localhost:8000/api/pirates\").then(function(response){console.log(response.data);setPirates(response.data);}).catch(function(error){console.log(error);});},[]);//go to the update route \nvar goToViewOne=function goToViewOne(pirateMongoId){navigate(\"/pirates/\".concat(pirateMongoId));console.log(\"you a hoe\");};//Delete\nvar deletePirate=function deletePirate(deleteId){if(window.confirm(\"Walk the plank matey\")){axios.delete(\"http://localhost:8000/api/pirates/\".concat(deleteId)).then(function(response){console.log(\"Delete Success\",response.data);//remove from the DOM after a successful delete\nsetPirates(pirates.filter(function(pirate){return pirate._id!==deleteId;}));}).catch(function(err){return console.log(err);});}};return/*#__PURE__*/_jsxs(\"div\",{className:imgStyle.background,children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Pirate Crew\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return navigate('/create');},children:\"Add Pirate\"})]}),pirates.map(function(onePirate){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"img\",{src:onePirate.image,alt:\"pirate name\",className:imgStyle.img}),/*#__PURE__*/_jsx(\"h3\",{children:onePirate.name}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return goToViewOne(onePirate._id);},children:\"View Pirate\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return deletePirate(onePirate._id);},children:\"Walk the Plank\"})]},onePirate._id);})]});};export default Main;","map":{"version":3,"names":["React","axios","useState","useEffect","useNavigate","imgStyle","Main","props","navigate","pirates","setPirates","get","then","response","console","log","data","catch","error","goToViewOne","pirateMongoId","deletePirate","deleteId","window","confirm","delete","filter","pirate","_id","err","background","map","onePirate","image","img","name"],"sources":["C:/Users/Kaizen/Desktop/coding_dojo_mern/Pirate_Crew/client/src/components/Main.jsx"],"sourcesContent":["import React from 'react'\r\nimport axios from 'axios'\r\nimport { useState, useEffect } from 'react'\r\nimport {useNavigate} from 'react-router-dom'\r\nimport imgStyle from \"./Main.module.css\"\r\n\r\nconst Main = (props) => {\r\n\r\n    const navigate = useNavigate()\r\n    const [pirates, setPirates] = useState([]);\r\n\r\n    //trigger when the component has finished loading\r\n    useEffect(() => {\r\n        //get all the notes from the server\r\n        axios.get(\"http://localhost:8000/api/pirates\")\r\n        .then(response => {\r\n            console.log(response.data)\r\n            setPirates(response.data)\r\n        })\r\n        .catch(error => {\r\n            console.log(error)\r\n        })\r\n    },[]);\r\n\r\n    //go to the update route \r\n    const goToViewOne = (pirateMongoId) => {\r\n        navigate(`/pirates/${pirateMongoId}`)\r\n        console.log(\"you a hoe\")\r\n    }\r\n\r\n    //Delete\r\n    const deletePirate = (deleteId) => {\r\n\r\n        if(window.confirm(\"Walk the plank matey\")){\r\n        axios.delete(`http://localhost:8000/api/pirates/${deleteId}`)\r\n        .then(response => {\r\n            console.log(\"Delete Success\", response.data)\r\n\r\n            //remove from the DOM after a successful delete\r\n            setPirates(pirates.filter((pirate) => pirate._id !== deleteId)) \r\n        })\r\n        .catch(err => console.log(err))\r\n        }\r\n    }\r\n\r\n\r\n\r\nreturn (\r\n    <div className={imgStyle.background}>\r\n        <div>\r\n            <h1>Pirate Crew</h1>\r\n            <button onClick={() => navigate('/create')}>Add Pirate</button>\r\n        </div>\r\n        {\r\n                pirates.map((onePirate) => {\r\n                    return(<div key={onePirate._id}>\r\n                                <img src={onePirate.image} alt=\"pirate name\" className={imgStyle.img}/>\r\n                                <h3>{onePirate.name}</h3>\r\n                                <button onClick={() => goToViewOne(onePirate._id)}>View Pirate</button>\r\n                                <button onClick={() => deletePirate(onePirate._id)}>Walk the Plank</button>\r\n                    </div>)\r\n                })\r\n            }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Main"],"mappings":"iJAAA,MAAOA,MAAK,KAAM,OAAO,CACzB,MAAOC,MAAK,KAAM,OAAO,CACzB,OAASC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC3C,OAAQC,WAAW,KAAO,kBAAkB,CAC5C,MAAOC,SAAQ,KAAM,mBAAmB,yFAExC,GAAMC,KAAI,CAAG,QAAPA,KAAI,CAAIC,KAAK,CAAK,CAEpB,GAAMC,SAAQ,CAAGJ,WAAW,EAAE,CAC9B,cAA8BF,QAAQ,CAAC,EAAE,CAAC,wCAAnCO,OAAO,eAAEC,UAAU,eAE1B;AACAP,SAAS,CAAC,UAAM,CACZ;AACAF,KAAK,CAACU,GAAG,CAAC,mCAAmC,CAAC,CAC7CC,IAAI,CAAC,SAAAC,QAAQ,CAAI,CACdC,OAAO,CAACC,GAAG,CAACF,QAAQ,CAACG,IAAI,CAAC,CAC1BN,UAAU,CAACG,QAAQ,CAACG,IAAI,CAAC,CAC7B,CAAC,CAAC,CACDC,KAAK,CAAC,SAAAC,KAAK,CAAI,CACZJ,OAAO,CAACC,GAAG,CAACG,KAAK,CAAC,CACtB,CAAC,CAAC,CACN,CAAC,CAAC,EAAE,CAAC,CAEL;AACA,GAAMC,YAAW,CAAG,QAAdA,YAAW,CAAIC,aAAa,CAAK,CACnCZ,QAAQ,oBAAaY,aAAa,EAAG,CACrCN,OAAO,CAACC,GAAG,CAAC,WAAW,CAAC,CAC5B,CAAC,CAED;AACA,GAAMM,aAAY,CAAG,QAAfA,aAAY,CAAIC,QAAQ,CAAK,CAE/B,GAAGC,MAAM,CAACC,OAAO,CAAC,sBAAsB,CAAC,CAAC,CAC1CvB,KAAK,CAACwB,MAAM,6CAAsCH,QAAQ,EAAG,CAC5DV,IAAI,CAAC,SAAAC,QAAQ,CAAI,CACdC,OAAO,CAACC,GAAG,CAAC,gBAAgB,CAAEF,QAAQ,CAACG,IAAI,CAAC,CAE5C;AACAN,UAAU,CAACD,OAAO,CAACiB,MAAM,CAAC,SAACC,MAAM,QAAKA,OAAM,CAACC,GAAG,GAAKN,QAAQ,GAAC,CAAC,CACnE,CAAC,CAAC,CACDL,KAAK,CAAC,SAAAY,GAAG,QAAIf,QAAO,CAACC,GAAG,CAACc,GAAG,CAAC,GAAC,CAC/B,CACJ,CAAC,CAIL,mBACI,aAAK,SAAS,CAAExB,QAAQ,CAACyB,UAAW,wBAChC,oCACI,mCAAoB,cACpB,eAAQ,OAAO,CAAE,yBAAMtB,SAAQ,CAAC,SAAS,CAAC,EAAC,wBAAoB,GAC7D,CAEEC,OAAO,CAACsB,GAAG,CAAC,SAACC,SAAS,CAAK,CACvB,mBAAO,oCACK,YAAK,GAAG,CAAEA,SAAS,CAACC,KAAM,CAAC,GAAG,CAAC,aAAa,CAAC,SAAS,CAAE5B,QAAQ,CAAC6B,GAAI,EAAE,cACvE,oBAAKF,SAAS,CAACG,IAAI,EAAM,cACzB,eAAQ,OAAO,CAAE,yBAAMhB,YAAW,CAACa,SAAS,CAACJ,GAAG,CAAC,EAAC,yBAAqB,cACvE,eAAQ,OAAO,CAAE,yBAAMP,aAAY,CAACW,SAAS,CAACJ,GAAG,CAAC,EAAC,4BAAwB,GAJtEI,SAAS,CAACJ,GAAG,CAKxB,CACV,CAAC,CAAC,GAER,CAEV,CAAC,CAED,cAAetB,KAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}