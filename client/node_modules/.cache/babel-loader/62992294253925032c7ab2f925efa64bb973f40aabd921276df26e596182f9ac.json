{"ast":null,"code":"import _slicedToArray from\"C:/Users/Kaizen/Desktop/coding_dojo_mern/Pirate_Crew/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import{useState}from'react';import axios from'axios';import{useNavigate}from'react-router-dom';import imgStyle from\"./Main.module.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Create=function Create(props){//for redirect\nvar navigate=useNavigate();// forms submit variables \nvar _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),image=_useState4[0],setImage=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),catchPhrase=_useState6[0],setCatchPhrase=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),crewPosition=_useState8[0],setCrewPosition=_useState8[1];var _useState9=useState(0),_useState10=_slicedToArray(_useState9,2),treasure=_useState10[0],setTreasure=_useState10[1];var _useState11=useState(true),_useState12=_slicedToArray(_useState11,2),pegLeg=_useState12[0],setPegLeg=_useState12[1];var _useState13=useState(true),_useState14=_slicedToArray(_useState13,2),eyePatch=_useState14[0],setEyePatch=_useState14[1];var _useState15=useState(true),_useState16=_slicedToArray(_useState15,2),hookHand=_useState16[0],setHookHand=_useState16[1];//DB error array\nvar _useState17=useState([]),_useState18=_slicedToArray(_useState17,2),errors=_useState18[0],setErrors=_useState18[1];var createPirate=function createPirate(e){e.preventDefault();var tempObjToSendToDB={name:name,image:image,catchPhrase:catchPhrase,crewPosition:crewPosition,treasure:treasure,pegLeg:pegLeg,eyePatch:eyePatch,hookHand:hookHand};axios.post('http://localhost:8000/api/pirates',tempObjToSendToDB).then(function(response){console.log(\"Client Success\");console.log(response.data);navigate('/pirates');}).catch(function(error){console.log(\"Something Went Wrong\");console.log(error);var errorResponse=error.response.data.errors;// Get the errors from err.response.data\nvar errorArr=[];// Define a temp error array to push the messages in\nfor(var _i=0,_Object$keys=Object.keys(errorResponse);_i<_Object$keys.length;_i++){var key=_Object$keys[_i];// Loop through all errors and get the messages\nerrorArr.push(errorResponse[key].message);}// Set Errors\nsetErrors(errorArr);});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Add Pirate\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return navigate('/pirates');},children:\"Crew Board\"})]}),errors.map(function(error,index){return/*#__PURE__*/_jsx(\"p\",{className:imgStyle.error,children:error},index);}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:createPirate,children:[\"Name:\",/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){return setName(e.target.value);},value:name}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"p\",{className:imgStyle.error,children:name.length>0&&name.length<3?\"A name cant be that shot lad.\":\"\"}),\"Image Url:\",/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){return setImage(e.target.value);},value:image}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"p\",{className:imgStyle.error,children:image.length>0&&image.length<3?\"show us your best face\":\"\"}),\"# of Treasure Chests:\",/*#__PURE__*/_jsx(\"input\",{type:\"number\",onChange:function onChange(e){return setTreasure(e.target.value);},value:treasure}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"p\",{className:imgStyle.error,children:treasure.value>0&&treasure.value<1?\"get more booty\":\"\"}),\"Pirate Catch Phrase:\",/*#__PURE__*/_jsx(\"textarea\",{onChange:function onChange(e){return setCatchPhrase(e.target.value);},value:catchPhrase}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"p\",{className:imgStyle.error,children:catchPhrase.length>0&&catchPhrase.length<3?\"Tell me your best Catch Phrase\":\"\"}),\"Crew Position:\",/*#__PURE__*/_jsxs(\"select\",{onChange:function onChange(e){return setCrewPosition(e.target.value);},value:crewPosition,children:[/*#__PURE__*/_jsx(\"option\",{value:\"Captain\",children:\"Captain\"}),/*#__PURE__*/_jsx(\"option\",{value:\"First Mate\",children:\"First Mate\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Quarter Master\",children:\"Quarter Master\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Boatswain\",children:\"Boatswain\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Powder Monkey\",children:\"Powder Monkey\"})]}),/*#__PURE__*/_jsx(\"br\",{}),\"Peg Leg:\",/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",onChange:function onChange(e){return setPegLeg(e.target.checked);},checked:pegLeg}),/*#__PURE__*/_jsx(\"br\",{}),\"Eye Patch:\",/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",onChange:function onChange(e){return setEyePatch(e.target.checked);},checked:eyePatch}),/*#__PURE__*/_jsx(\"br\",{}),\"Hook Hand:\",/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",onChange:function onChange(e){return setHookHand(e.target.checked);},checked:hookHand}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{children:\"Add Pirate\"})]})]});};export default Create;","map":{"version":3,"names":["React","useState","axios","useNavigate","imgStyle","Create","props","navigate","name","setName","image","setImage","catchPhrase","setCatchPhrase","crewPosition","setCrewPosition","treasure","setTreasure","pegLeg","setPegLeg","eyePatch","setEyePatch","hookHand","setHookHand","errors","setErrors","createPirate","e","preventDefault","tempObjToSendToDB","post","then","response","console","log","data","catch","error","errorResponse","errorArr","Object","keys","key","push","message","map","index","target","value","length","checked"],"sources":["C:/Users/Kaizen/Desktop/coding_dojo_MERN/Pirate_Crew/client/src/components/Create.jsx"],"sourcesContent":["import React from 'react'\r\nimport {useState} from 'react'\r\nimport axios from 'axios'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport imgStyle from \"./Main.module.css\"\r\n\r\nconst Create = (props) => {\r\n\r\n    //for redirect\r\n    const navigate = useNavigate()\r\n\r\n    // forms submit variables \r\n    const[name, setName] = useState(\"\")\r\n    const[image, setImage] = useState(\"\")\r\n    const[catchPhrase, setCatchPhrase] = useState(\"\")\r\n    const[crewPosition, setCrewPosition] = useState(\"\")\r\n    const[treasure, setTreasure] = useState(0)\r\n    const[pegLeg, setPegLeg] = useState(true)\r\n    const[eyePatch, setEyePatch] = useState(true)\r\n    const[hookHand, setHookHand] = useState(true)\r\n    \r\n\r\n    //DB error array\r\n    const [errors,setErrors] = useState([]);\r\n\r\n    const createPirate = (e) => {\r\n        e.preventDefault();\r\n        const tempObjToSendToDB = {\r\n            name,\r\n            image,\r\n            catchPhrase,\r\n            crewPosition,\r\n            treasure,\r\n            pegLeg,\r\n            eyePatch,\r\n            hookHand\r\n        }\r\n        axios.post('http://localhost:8000/api/pirates', tempObjToSendToDB)\r\n        .then(response => {\r\n            console.log(\"Client Success\")\r\n            console.log(response.data)\r\n            navigate('/pirates')\r\n        })\r\n        .catch(error => {\r\n            console.log(\"Something Went Wrong\")\r\n            console.log(error)\r\n            const errorResponse = error.response.data.errors; // Get the errors from err.response.data\r\n                const errorArr = []; // Define a temp error array to push the messages in\r\n                for (const key of Object.keys(errorResponse)) { // Loop through all errors and get the messages\r\n                    errorArr.push(errorResponse[key].message)\r\n                }\r\n                // Set Errors\r\n                setErrors(errorArr);\r\n        }) \r\n    }\r\nreturn (\r\n    <div>\r\n        <div>\r\n            <h1>Add Pirate</h1>\r\n            <button onClick={() => navigate('/pirates')}>Crew Board</button>\r\n        </div>\r\n\r\n            {errors.map((error,index) => <p key ={index} className={imgStyle.error}>{error}</p>)}\r\n\r\n        <form onSubmit={createPirate}>\r\n            Name:<input onChange={(e) => setName(e.target.value)} value={name}/><br/>\r\n            <p className={imgStyle.error}>{name.length > 0 && name.length < 3? \"A name cant be that shot lad.\": \"\"}</p>\r\n\r\n            Image Url:<input onChange={(e) => setImage(e.target.value)} value={image}/><br/>\r\n            <p className={imgStyle.error}>{image.length > 0 && image.length < 3? \"show us your best face\": \"\"}</p>\r\n\r\n            # of Treasure Chests:<input type=\"number\" onChange={(e) => setTreasure(e.target.value)} value={treasure}/><br/>\r\n            <p className={imgStyle.error}>{treasure.value > 0 && treasure.value < 1? \"get more booty\": \"\"}</p>\r\n\r\n            Pirate Catch Phrase:<textarea onChange={(e) => setCatchPhrase(e.target.value)}value={catchPhrase}/><br/>\r\n            <p className={imgStyle.error}>{catchPhrase.length > 0 && catchPhrase.length < 3? \"Tell me your best Catch Phrase\": \"\"}</p>\r\n\r\n            Crew Position:\r\n            <select onChange={(e) => setCrewPosition(e.target.value)} value={crewPosition}>\r\n                <option value='Captain'>Captain</option>\r\n                <option value='First Mate'>First Mate</option>\r\n                <option value='Quarter Master'>Quarter Master</option>\r\n                <option value='Boatswain'>Boatswain</option>\r\n                <option value='Powder Monkey'>Powder Monkey</option>\r\n            </select><br/>\r\n\r\n            Peg Leg:<input type=\"checkbox\" onChange={(e) => setPegLeg(e.target.checked)} checked={pegLeg}/><br/>\r\n            Eye Patch:<input type=\"checkbox\" onChange={(e) => setEyePatch(e.target.checked)} checked={eyePatch}/><br/>\r\n            Hook Hand:<input type=\"checkbox\" onChange={(e) => setHookHand(e.target.checked)} checked={hookHand}/><br/>\r\n            <button>Add Pirate</button>\r\n        </form>\r\n    </div>\r\n)\r\n}\r\n\r\nexport default Create"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}